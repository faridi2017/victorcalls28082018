<!-- partial -->
<div class="main-panel" >
    <div class="my-container">
        <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
      </div>
    <div class="content-wrapper">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-3">
              <h5 class="card-title" style="color:#131e42">Manage Projects:&nbsp;{{length}}</h5></div>
            <div class="col-3"> <button class="btn btn-primary" style="margin-left: 10px;" (click)="createProject()">
                Create project</button></div>
           <div class="col-6">
              <label>Select Company</label>&nbsp;
              <select *ngIf="companies"  [(ngModel)]="companyName" 
                 required="" placeholder="select Company" 
                (change)="getProjectsofCompany()">
                <option>------</option>
                <option *ngFor="let company of companies">{{company.companyName}}</option>
                
              </select> 
           
            </div>
        </div>
          <div class="row">
            <div class="col-12 table-responsive">
              <table id="mydatatable" class="table table-striped">
                <thead style="background: #87ceeb;box-shadow: 1px 1px 1px 1px #cccccc;">
                    <tr >
                        <th >Project Id</th>
                        <th >Projects Name</th>
                        <th >Description</th>
                        <th >Company Id</th>
                        <th >District</th> 
                        <th >Documents</th>
                       
                        </tr>
                </thead>
                <tbody *ngIf="projects">
                    <tr *ngFor="let myList of projects; let i = index" [attr.data-index]="i" >
                        <td >{{myList.projectId}}</td>
                         <td >{{myList.projectName}}</td>
                         <td >{{myList.description}}</td>
                         <td >{{myList.companyId}}</td>
                         <td >{{myList.district}}</td>
                         <td >
                          <button (click)="getDocuments(myList.projectId)" type="button" 
                          class="btn btn-success block" > 
                          Get Documents</button>
                         </td>
                     
                       </tr>
                </tbody>
              </table>
            </div>
            <div class="row">
              <div class="col-md-6 col-sm-10" style="margin-bottom: 20px;">
                  <!--button (click)="createExcel()" type="button" class="btn btn-success block"
                   *ngIf="bExcel" style="background:#87ceeb; border: 1px solid #87ceeb;font-weight: bold;">
                    Download Excel File</button-->
                  </div>
              </div>
          </div>
        </div>
      </div>
    </div>
    <!-- content-wrapper ends -->
    
  </div>

